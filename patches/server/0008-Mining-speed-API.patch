From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: DaRacci <racci@racci.dev>
Date: Fri, 3 Jun 2022 20:30:55 +1000
Subject: [PATCH] Mining speed API


diff --git a/src/main/java/net/minecraft/world/entity/player/Player.java b/src/main/java/net/minecraft/world/entity/player/Player.java
index 5b221b9026ed0a357669a0422bdff2524b5e372a..b32d9fc47b0eab4eca7c5d3b69ce78e983158612 100644
--- a/src/main/java/net/minecraft/world/entity/player/Player.java
+++ b/src/main/java/net/minecraft/world/entity/player/Player.java
@@ -184,7 +184,10 @@ public abstract class Player extends LivingEntity {
     public int sixRowEnderchestSlotCount = -1; // Purpur
     public boolean flyingFallDamage = false; // Purpur
     public boolean canPortalInstant = false; // Purpur
-
+    // Tentacles start
+    public boolean normalUnderwaterMining = false;
+    public boolean normalOffGroundMining = false;
+    // Tentacles end
     // CraftBukkit start
     public boolean fauxSleeping;
     public int oldLevel = -1;
@@ -866,11 +869,11 @@ public abstract class Player extends LivingEntity {
             f *= f1;
         }
 
-        if (this.isEyeInFluid(FluidTags.WATER) && !EnchantmentHelper.hasAquaAffinity(this)) {
+        if (!normalUnderwaterMining && this.isEyeInFluid(FluidTags.WATER) && !EnchantmentHelper.hasAquaAffinity(this)) { // Tentacles
             f /= 5.0F;
         }
 
-        if (!this.onGround) {
+        if (!normalOffGroundMining && !this.onGround) { // Tentacles
             f /= 5.0F;
         }
 
diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
index e339c0109c38fde307573af50cb3746b5c7f5848..53e0ced9fa25e21a99500b1f675107a125a2b4fc 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
@@ -2880,4 +2880,26 @@ public class CraftPlayer extends CraftHumanEntity implements Player {
         return getHandle().flyingFallDamage;
     }
     // Purpur end
+
+    // Tentacles start
+    @Override
+    public boolean isNormalUnderwaterMining() {
+        return getHandle().normalUnderwaterMining;
+    }
+
+    @Override
+    public boolean isNormalOffGroundMining() {
+        return getHandle().normalOffGroundMining;
+    }
+
+    @Override
+    public void setNormalUnderwaterMining(boolean normalUnderwaterMining) {
+        this.getHandle().normalUnderwaterMining = normalUnderwaterMining;
+    }
+
+    @Override
+    public void setNormalOffGroundMining(boolean normalOffGroundMining) {
+        this.getHandle().normalOffGroundMining = normalOffGroundMining;
+    }
+    // Tentacles end
 }
